<?xml version="1.0" encoding="UTF-8" ?> 

<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.study.cart.CartMapper">

<!-- 영모님 quantity 설정해야합니s -->
<insert id="create" parameterType="com.study.cart.CartDTO">
	insert into cart(cartno, id, quantity, price, orderstate)
	values((select nvl(max(cartno),0)+1 from cart),
		#{id}, 6, #{price}, 0)
</insert>
<insert id="createOrderCart" parameterType="com.study.cart.OrderCartDTO">
   insert into ordercart(contents_cart_no, contentsno, cartno)
   values((select nvl(max(contents_cart_no),0)+1 from ordercart), #{contentsno}, (select nvl(max(cartno),0) from cart))
</insert>
</mapper> 


<!-- 
	<insert id="create"
		parameterType="com.study.contents.ContentsDTO">
		insert into contents(contentsno, cateno, pname, price, filename, detail,
		rdate, stock)
		values((select nvl(max(contentsno),0)+1 from contents),
		#{cateno},#{pname}, #{price}, #{filename}, #{detail},
		sysdate, #{stock})
	</insert>
	 -->